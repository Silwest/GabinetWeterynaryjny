<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:pe="http://primefaces.org/ui/extensions"

      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <body>

        <ui:composition template="./../../base.xhtml">

            <ui:define name="title">
                Dodaj lek/gadzet/akcesoria
            </ui:define>

            <ui:define name="content">
                <p:messages autoUpdate="true" />
                <p:tabView>
                    <p:tab title="Dodaj lek">
                        <h:form id="drug">
                            <h:panelGrid columns="3" id="matchGridDrug"> 
                                <h:outputLabel for="drugName" value="Nazwa leku:"/>
                                <p:inputText id="drugName" value="#{supplyController.supply.name}" validator="supplyUniquenessValidator" required="true" label="Nazwa leku" />
                                <p:message for="drugName" />
                                <h:outputLabel for="drugDescription" value="Opis leku:" />
                                <p:inputText id="drugDescription" value="#{supplyController.supply.description}" label="Opis leku" />
                                <p:message for="drugDescription" />
                                <h:outputLabel for="drugPrice" value="Cena leku:" />
                                <pe:inputNumber id="drugPrice" value="#{supplyController.supply.price}" required="true" symbol=" PLN" decimalSeparator="." thousandSeparator="," symbolPosition="s" label="Cena leku">
                                    <f:validateDoubleRange minimum="0.01" maximum="10000.00" for="drugPrice" />
                                </pe:inputNumber>
                                <p:message for="drugPrice" />
                            </h:panelGrid>
                            <p:commandButton type="submit" action="#{supplyController.addDrug}" value="Dodaj lek" update="matchGridDrug" />
                        </h:form>
                    </p:tab>
                    <p:tab title="Dodaj gadzet">
                        <h:form id="gadget">
                            <h:panelGrid columns="3" id="matchGridGadget"> 
                                <h:outputLabel for="gadgetName" value="Nazwa gadzetu:"/>
                                <p:inputText id="gadgetName" label="Nazwa gadzetu" value="#{supplyController.supply.name}" validator="supplyUniquenessValidator" required="true" />
                                <p:message for="gadgetName" />
                                <h:outputLabel for="gadgetDescription" value="Opis gadzetu:" />
                                <p:inputText id="gadgetDescription" label="Opis gadzetu" value="#{supplyController.supply.description}" />
                                <p:message for="gadgetDescription" />
                                <h:outputLabel for="gadgetPrice" value="Cena gadzetu:" />
                                <pe:inputNumber id="gadgetPrice" label="Cena gadzetu" value="#{supplyController.supply.price}" required="true" symbol=" PLN" decimalSeparator="." thousandSeparator="," symbolPosition="s">
                                    <f:validateDoubleRange for="gadgetPrice" minimum="0.01" maximum="10000.00" />
                                </pe:inputNumber>
                                <p:message for="gadgetPrice" />
                            </h:panelGrid>
                            <p:commandButton type="submit" action="#{supplyController.addGadget}" value="Dodaj gadzet" update="matchGridGadget" />
                        </h:form>
                    </p:tab>
                    <p:tab title="Dodaj akcesoria">
                        <h:form id="medicalAccessories">
                            <h:panelGrid columns="3" id="matchGridMedical"> 
                                <h:outputLabel for="accessoriesName" value="Nazwa :"/>
                                <p:inputText id="accessoriesName" label="Nazwa" value="#{supplyController.supply.name}" validator="supplyUniquenessValidator" required="true" />
                                <p:message for="accessoriesName" />
                                <h:outputLabel for="accessoriesDescription" value="Opis" />
                                <p:inputText id="accessoriesDescription" label="Opis" value="#{supplyController.supply.description}" />
                                <p:message for="accessoriesDescription" />
                                <h:outputLabel for="accessoriesPrice" value="Cena" />
                                <pe:inputNumber id="accessoriesPrice" label="Cena" value="#{supplyController.supply.price}" required="true" symbol=" PLN" decimalSeparator="." thousandSeparator="," symbolPosition="s">
                                    <f:validateDoubleRange for="accessoriesPrice" minimum="0.01" maximum="10000.00" />
                                </pe:inputNumber>
                                <p:message for="accessoriesPrice" />
                            </h:panelGrid>
                            <p:commandButton type="submit" action="#{supplyController.addMedicalSupply}" value="Dodaj" update="matchGridMedical" />
                        </h:form>
                    </p:tab>
                </p:tabView>
                <p:dataTable var="supply" value="#{supplyController.supplyList}">
                    <p:column headerText="Id">
                        <h:outputText value="#{supply.id}" />
                    </p:column>

                    <p:column headerText="Nazwa">
                        <h:outputText value="#{supply.name}" />
                    </p:column>

                    <p:column headerText="Cena">
                        <h:outputText value="#{supply.price}" />
                    </p:column>
                    <p:column headerText="Cena">
                        <h:outputText value="#{supply.supplyType}" />
                    </p:column>
                </p:dataTable>
            </ui:define>
        </ui:composition>

    </body>
</html>
